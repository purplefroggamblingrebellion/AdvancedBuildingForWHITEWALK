-- SUPPORTING SCRIPTS
loadstring(game:HttpGet("https://raw.githubusercontent.com/purplefroggamblingrebellion/AdvancedBuildingForWHITEWALK/refs/heads/main/tpbar.txt"))()

-- ADVANCED BUILDING

local plr = game.Players.LocalPlayer
local char = plr.Character
local toggle = false
local adjtoggle = false
local gridtoggle = false
local rs = game:GetService("RunService")
local storedp = plr:FindFirstChild("StoredPapers")
local storedpd = plr:FindFirstChild("StoredPapersDelay")
local uis = game:GetService("UserInputService")
local placing = false
local Remotes = game:GetService("ReplicatedStorage"):WaitForChild("Remotes")
local rayResult = nil
local skyboxvis = false
local skyboxtog = false
local skyup = "http://www.roblox.com/asset/?ID=2013298"
local skydown = "http://www.roblox.com/asset/?ID=2013298"
local skyleft = "http://www.roblox.com/asset/?ID=2013298"
local skyright = "http://www.roblox.com/asset/?ID=2013298"
local skyfront = "http://www.roblox.com/asset/?ID=2013298"
local skyback = "http://www.roblox.com/asset/?ID=2013298"
local clocktim = 12
local fogend = 10000
local brightnes = 2
local fogcolor = Color3.new(0,0,0)
local rotatesnap = 45
local rotationsnapping = false
local showtext = true
local rotationx = 0
local rotationy = 0
local rotationz = 0
local unitnormal
local thingcf = CFrame.new(Vector3.new(0,0,0))
local lastnormal

local soundconfirm = Instance.new("Sound")
soundconfirm.SoundId = "rbxassetid://127327064337609"
soundconfirm.Parent = game.SoundService

local soundrotate = Instance.new("Sound")
soundrotate.SoundId = "rbxassetid://140575067138420"
soundrotate.Parent = game.SoundService

local skyboxes = {
    ["Sky1"] = {"rbxasset://sky/null_plainsky512_up.jpg","rbxasset://sky/null_plainsky512_dn.jpg","rbxasset://sky/null_plainsky512_lf.jpg","rbxasset://sky/null_plainsky512_rt.jpg","rbxasset://sky/null_plainsky512_ft.jpg","rbxasset://sky/null_plainsky512_bk.jpg"},
    ["Sky2"] = {"http://www.roblox.com/asset/?ID=1361097","http://www.roblox.com/asset/?ID=1361097","http://www.roblox.com/asset/?ID=1361097","http://www.roblox.com/asset/?ID=1361097","http://www.roblox.com/asset/?ID=1361097","http://www.roblox.com/asset/?ID=1361097"},
    ["Sky3"] = {"http://www.roblox.com/asset/?ID=2013298","http://www.roblox.com/asset/?ID=2013298","http://www.roblox.com/asset/?ID=2013298","http://www.roblox.com/asset/?ID=2013298","http://www.roblox.com/asset/?ID=2013298","http://www.roblox.com/asset/?ID=2013298"},
    ["Sky4"] = {"http://www.roblox.com/asset/?version=1&id=1014449","http://www.roblox.com/asset/?version=1&id=1012891","http://www.roblox.com/asset/?version=1&id=1012889","http://www.roblox.com/asset/?version=1&id=1012888","http://www.roblox.com/asset/?version=1&id=1012887","http://www.roblox.com/asset/?version=1&id=1012890"},
    ["Sky5"] = {"rbxassetid://600835177","rbxassetid://600831635","rbxassetid://600886090","rbxassetid://600833862","rbxassetid://600832720","rbxassetid://600830446"},
    ["Sky6"] = {"http://www.roblox.com/asset/?id=166510114","http://www.roblox.com/asset/?id=166510057","http://www.roblox.com/asset/?id=166510092","http://www.roblox.com/asset/?id=166510131","http://www.roblox.com/asset/?id=166510116","http://www.roblox.com/asset/?id=166509999"},
    ["Sky7"] = {"http://www.roblox.com/asset/?id=16262366016","http://www.roblox.com/asset/?id=16262358026","http://www.roblox.com/asset/?id=16262362003","http://www.roblox.com/asset/?id=16262363873","http://www.roblox.com/asset/?id=16262360469","http://www.roblox.com/asset/?id=16262356578"},
    ["Sky8"] = {"rbxassetid://11336723758","rbxassetid://11336722286","rbxassetid://11336725016","rbxassetid://11336726887","rbxassetid://11336720418","rbxassetid://11336725935"},
    ["Sky9"] = {"http://www.roblox.com/asset/?id=442579055","http://www.roblox.com/asset/?id=442579012","http://www.roblox.com/asset/?id=442579226","http://www.roblox.com/asset/?id=442579158","http://www.roblox.com/asset/?id=442579184","http://www.roblox.com/asset/?id=442579118"},
    ["Sky10"] = {"rbxassetid://88459308213437","rbxassetid://117003589797607","rbxassetid://132330407505752","rbxassetid://137981272047053","rbxassetid://128526893232764","rbxassetid://117003589797607"},
    ["Sky11"] = {"http://www.roblox.com/asset/?id=154185031","http://www.roblox.com/asset/?id=154184960","http://www.roblox.com/asset/?id=154184943","http://www.roblox.com/asset/?id=154184972","http://www.roblox.com/asset/?id=154185021","http://www.roblox.com/asset/?id=154185004"},
    ["Sky12"] = {"rbxassetid://9134791633","rbxassetid://9134791975","rbxassetid://9134791234","rbxassetid://9134790419","rbxassetid://9134793457","rbxassetid://9134792889"},
}

local tempfold = Instance.new("Folder")
tempfold.Parent = workspace
tempfold.Name = "Temporary"

local buildatfeetpart = Instance.new("Part")
buildatfeetpart.Parent = workspace
buildatfeetpart.Size = Vector3.new(1000,0.001,1000)
buildatfeetpart.Position = char.HumanoidRootPart.Position + Vector3.new(0,-3.05,0)
buildatfeetpart.Anchored = true
buildatfeetpart.CanCollide = false
buildatfeetpart.CanQuery = false
buildatfeetpart.CanTouch = false
buildatfeetpart.Transparency = 1

local gridpart = Instance.new("Part")
gridpart.Parent = workspace
gridpart.Size = Vector3.new(1000,0.001,1000)
gridpart.Anchored = true
gridpart.CanCollide = false
gridpart.CanQuery = false
gridpart.CanTouch = false
gridpart.Transparency = 1

local Texture = Instance.new("Texture")
Texture.Face = Enum.NormalId.Bottom
Texture.StudsPerTileU = 8
Texture.StudsPerTileV = 8
Texture.Texture = "rbxassetid://1500988270"
Texture.Parent = gridpart

local Texture_1 = Instance.new("Texture")
Texture_1.Face = Enum.NormalId.Top
Texture_1.StudsPerTileU = 8
Texture_1.StudsPerTileV = 8
Texture_1.Texture = "rbxassetid://1500988270"
Texture_1.Parent = gridpart

local rayend = Instance.new("Part")
rayend.Parent = game.ReplicatedStorage
rayend.Anchored = true
rayend.CanCollide = false
rayend.Size = Vector3.new(4,0.1,3)
rayend.TopSurface = Enum.SurfaceType.Smooth
rayend.BottomSurface = Enum.SurfaceType.Smooth
rayend.Color = Color3.new(0.79, 0.80, 0.82)

local adup = Instance.new("Part")
adup.Name = "AdjU"
adup.Parent = tempfold
adup.Size = Vector3.new(0.5,0.5,1)
adup.Transparency = 0.5
adup.CanCollide = false
adup.Anchored = true
adup.Color = Color3.new(0,1,0)
local adleft = Instance.new("Part")
adleft.Name = "AdjL"
adleft.Parent = tempfold
adleft.Size = Vector3.new(1,0.5,0.5)
adleft.Transparency = 0.5
adleft.CanCollide = false
adleft.Anchored = true
adleft.Color = Color3.new(0,1,0)
local adright = Instance.new("Part")
adright.Name = "AdjR"
adright.Parent = tempfold
adright.Size = Vector3.new(1,0.5,0.5)
adright.Transparency = 0.5
adright.CanCollide = false
adright.Anchored = true
adright.Color = Color3.new(0,1,0)
local addown = Instance.new("Part")
addown.Name = "AdjD"
addown.Parent = tempfold
addown.Size = Vector3.new(0.5,0.5,1)
addown.Transparency = 0.5
addown.CanCollide = false
addown.Anchored = true
addown.Color = Color3.new(0,1,0)

local Decalr = Instance.new("Decal")
Decalr.Color3 = Color3.new(0.00, 0.00, 0.00)
Decalr.Face = Enum.NormalId.Top
Decalr.Texture = "rbxassetid://115929304045144"
Decalr.Parent = rayend

print("LOADING...")

local BuildHelper = Instance.new("ScreenGui")
BuildHelper.Name = "BuildHelper"
BuildHelper.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
BuildHelper.Parent = plr.PlayerGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0.31, 0.00, 0.80, 0.00)
Frame.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Frame.Position = UDim2.new(0.32, 0.00, 0.10, 0.00)
Frame.BorderSizePixel = 0
Frame.BackgroundTransparency = 1
Frame.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Frame.Parent = BuildHelper
Frame.Visible = false

local Frame_1 = Instance.new("Frame")
Frame_1.Size = UDim2.new(0.83, 0.00, 0.87, 0.00)
Frame_1.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Frame_1.Position = UDim2.new(-0.67, 0.00, 0.06, 0.00)
Frame_1.BorderSizePixel = 0
Frame_1.BackgroundTransparency = 0.6000000238418579
Frame_1.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
Frame_1.Parent = Frame

local BuildAtFeet = Instance.new("Folder")
BuildAtFeet.Name = "BuildAtFeet"
BuildAtFeet.Parent = Frame_1

local Btn = Instance.new("TextButton")
Btn.Name = "Btn"
Btn.TextWrapped = true
Btn.BorderSizePixel = 0
Btn.TextScaled = true
Btn.BackgroundColor3 = Color3.new(1.00, 0.00, 0.02)
Btn.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
Btn.TextSize = 14
Btn.Size = UDim2.new(0.19, 0.00, 0.07, 0.00)
Btn.TextColor3 = Color3.new(1.00, 1.00, 1.00)
Btn.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Btn.Text = "Toggle"
Btn.Position = UDim2.new(0.68, 0.00, 0.02, 0.00)
Btn.Parent = BuildAtFeet

local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = Btn

local Text = Instance.new("TextLabel")
Text.Name = "Text"
Text.TextWrapped = true
Text.BorderSizePixel = 0
Text.TextScaled = true
Text.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Text.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
Text.TextSize = 14
Text.Size = UDim2.new(0.61, 0.00, 0.07, 0.00)
Text.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Text.Text = "Build at Feet"
Text.TextColor3 = Color3.new(1.00, 1.00, 1.00)
Text.BackgroundTransparency = 1
Text.Position = UDim2.new(0.02, 0.00, 0.02, 0.00)
Text.Parent = BuildAtFeet

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Parent = Text

local Adjacent = Instance.new("Folder")
Adjacent.Name = "Adjacent"
Adjacent.Parent = Frame_1

local BtnR = Instance.new("TextButton")
BtnR.Name = "BtnR"
BtnR.TextWrapped = true
BtnR.BorderSizePixel = 0
BtnR.TextScaled = true
BtnR.BackgroundColor3 = Color3.new(1.00, 0.00, 0.02)
BtnR.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
BtnR.TextSize = 14
BtnR.Size = UDim2.new(0.19, 0.00, 0.07, 0.00)
BtnR.TextColor3 = Color3.new(1.00, 1.00, 1.00)
BtnR.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
BtnR.Text = "Toggle"
BtnR.Position = UDim2.new(0.68, 0.00, 0.11, 0.00)
BtnR.Parent = Adjacent

local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = BtnR

local TextR = Instance.new("TextLabel")
TextR.Name = "TextR"
TextR.TextWrapped = true
TextR.BorderSizePixel = 0
TextR.TextScaled = true
TextR.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
TextR.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TextR.TextSize = 14
TextR.Size = UDim2.new(0.61, 0.00, 0.07, 0.00)
TextR.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TextR.Text = "Adjacent Paper"
TextR.TextColor3 = Color3.new(1.00, 1.00, 1.00)
TextR.BackgroundTransparency = 1
TextR.Position = UDim2.new(0.02, 0.00, 0.11, 0.00)
TextR.Parent = Adjacent

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Parent = TextR

local Snap = Instance.new("Folder")
Snap.Name = "Snap"
Snap.Parent = Frame_1

local TextS = Instance.new("TextLabel")
TextS.Name = "TextS"
TextS.TextWrapped = true
TextS.BorderSizePixel = 0
TextS.TextScaled = true
TextS.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
TextS.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TextS.TextSize = 14
TextS.Size = UDim2.new(0.61, 0.00, 0.07, 0.00)
TextS.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TextS.Text = "Snap to Grid"
TextS.TextColor3 = Color3.new(1.00, 1.00, 1.00)
TextS.BackgroundTransparency = 1
TextS.Position = UDim2.new(0.02, 0.00, 0.20, 0.00)
TextS.Parent = Snap

local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = TextS

local TextBoxS = Instance.new("TextBox")
TextBoxS.Name = "TextBoxS"
TextBoxS.TextWrapped = true
TextBoxS.BorderSizePixel = 3
TextBoxS.TextScaled = true
TextBoxS.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
TextBoxS.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TextBoxS.TextSize = 14
TextBoxS.Size = UDim2.new(0.19, 0.00, 0.07, 0.00)
TextBoxS.TextColor3 = Color3.new(0.00, 0.00, 0.00)
TextBoxS.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TextBoxS.Text = "0.25"
TextBoxS.Position = UDim2.new(0.68, 0.00, 0.20, 0.00)
TextBoxS.Parent = Snap

local Grid = Instance.new("Folder")
Grid.Name = "Grid"
Grid.Parent = Frame_1

local BtnG = Instance.new("TextButton")
BtnG.Name = "BtnG"
BtnG.TextWrapped = true
BtnG.BorderSizePixel = 3
BtnG.TextScaled = true
BtnG.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
BtnG.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
BtnG.TextSize = 14
BtnG.Size = UDim2.new(0.19, 0.00, 0.07, 0.00)
BtnG.TextColor3 = Color3.new(0.00, 0.00, 0.00)
BtnG.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
BtnG.Text = "Place"
BtnG.Position = UDim2.new(0.68, 0.00, 0.29, 0.00)
BtnG.Parent = Grid

local TextG = Instance.new("TextLabel")
TextG.Name = "TextG"
TextG.TextWrapped = true
TextG.BorderSizePixel = 0
TextG.TextScaled = true
TextG.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
TextG.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TextG.TextSize = 14
TextG.Size = UDim2.new(0.61, 0.00, 0.07, 0.00)
TextG.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TextG.Text = "Place Grid"
TextG.TextColor3 = Color3.new(1.00, 1.00, 1.00)
TextG.BackgroundTransparency = 1
TextG.Position = UDim2.new(0.02, 0.00, 0.29, 0.00)
TextG.Parent = Grid

local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = TextG

local Sky = Instance.new("Folder")
Sky.Name = "Sky"
Sky.Parent = Frame_1

local BtnSk = Instance.new("TextButton")
BtnSk.Name = "BtnSk"
BtnSk.TextWrapped = true
BtnSk.BorderSizePixel = 3
BtnSk.TextScaled = true
BtnSk.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
BtnSk.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
BtnSk.TextSize = 14
BtnSk.Size = UDim2.new(0.19, 0.00, 0.07, 0.00)
BtnSk.TextColor3 = Color3.new(0.00, 0.00, 0.00)
BtnSk.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
BtnSk.Text = "Pick"
BtnSk.Position = UDim2.new(0.68, 0.00, 0.39, 0.00)
BtnSk.Parent = Sky

local TextSk = Instance.new("TextLabel")
TextSk.Name = "TextSk"
TextSk.TextWrapped = true
TextSk.BorderSizePixel = 0
TextSk.TextScaled = true
TextSk.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
TextSk.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TextSk.TextSize = 14
TextSk.Size = UDim2.new(0.61, 0.00, 0.07, 0.00)
TextSk.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TextSk.Text = " Better Sky"
TextSk.TextColor3 = Color3.new(1.00, 1.00, 1.00)
TextSk.BackgroundTransparency = 1
TextSk.Position = UDim2.new(0.02, 0.00, 0.39, 0.00)
TextSk.Parent = Sky

local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = TextSk

local RotationSnap = Instance.new("Folder")
RotationSnap.Name = "RotationSnap"
RotationSnap.Parent = Frame_1

local TextRs = Instance.new("TextLabel")
TextRs.Name = "TextRs"
TextRs.TextWrapped = true
TextRs.BorderSizePixel = 0
TextRs.TextScaled = true
TextRs.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
TextRs.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TextRs.TextSize = 14
TextRs.Size = UDim2.new(0.61, 0.00, 0.07, 0.00)
TextRs.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TextRs.Text = "Snap to Rotation"
TextRs.TextColor3 = Color3.new(1.00, 1.00, 1.00)
TextRs.BackgroundTransparency = 1
TextRs.Position = UDim2.new(0.02, 0.00, 0.48, 0.00)
TextRs.Parent = RotationSnap

local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = TextRs

local TextBoxRs = Instance.new("TextBox")
TextBoxRs.Name = "TextBoxRs"
TextBoxRs.TextWrapped = true
TextBoxRs.BorderSizePixel = 3
TextBoxRs.TextScaled = true
TextBoxRs.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
TextBoxRs.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TextBoxRs.TextSize = 14
TextBoxRs.Size = UDim2.new(0.19, 0.00, 0.07, 0.00)
TextBoxRs.TextColor3 = Color3.new(0.00, 0.00, 0.00)
TextBoxRs.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TextBoxRs.Text = "45"
TextBoxRs.Position = UDim2.new(0.68, 0.00, 0.48, 0.00)
TextBoxRs.Parent = RotationSnap

local ShowText = Instance.new("Folder")
ShowText.Name = "ShowText"
ShowText.Parent = Frame_1

local BtnSt = Instance.new("TextButton")
BtnSt.Name = "BtnSt"
BtnSt.TextWrapped = true
BtnSt.BorderSizePixel = 0
BtnSt.TextScaled = true
BtnSt.BackgroundColor3 = Color3.new(0.00, 1.00, 0.00)
BtnSt.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
BtnSt.TextSize = 14
BtnSt.Size = UDim2.new(0.19, 0.00, 0.07, 0.00)
BtnSt.TextColor3 = Color3.new(1.00, 1.00, 1.00)
BtnSt.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
BtnSt.Text = "Toggle"
BtnSt.Position = UDim2.new(0.68, 0.00, 0.57, 0.00)
BtnSt.Parent = ShowText

local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = BtnSt

local TextSt = Instance.new("TextLabel")
TextSt.Name = "TextSt"
TextSt.TextWrapped = true
TextSt.BorderSizePixel = 0
TextSt.TextScaled = true
TextSt.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
TextSt.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TextSt.TextSize = 14
TextSt.Size = UDim2.new(0.61, 0.00, 0.07, 0.00)
TextSt.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TextSt.Text = "Show Text"
TextSt.TextColor3 = Color3.new(1.00, 1.00, 1.00)
TextSt.BackgroundTransparency = 1
TextSt.Position = UDim2.new(0.02, 0.00, 0.57, 0.00)
TextSt.Parent = ShowText

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Parent = TextSt

local SnapRotation = Instance.new("Folder")
SnapRotation.Name = "SnapRotation"
SnapRotation.Parent = Frame_1

local BtnSr = Instance.new("TextButton")
BtnSr.Name = "BtnSr"
BtnSr.TextWrapped = true
BtnSr.BorderSizePixel = 0
BtnSr.TextScaled = true
BtnSr.BackgroundColor3 = Color3.new(1.00, 0.00, 0.00)
BtnSr.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
BtnSr.TextSize = 14
BtnSr.Size = UDim2.new(0.19, 0.00, 0.07, 0.00)
BtnSr.TextColor3 = Color3.new(1.00, 1.00, 1.00)
BtnSr.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
BtnSr.Text = "Toggle"
BtnSr.Position = UDim2.new(0.68, 0.00, 0.66, 0.00)
BtnSr.Parent = SnapRotation

local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = BtnSr

local TextSr = Instance.new("TextLabel")
TextSr.Name = "TextSr"
TextSr.TextWrapped = true
TextSr.BorderSizePixel = 0
TextSr.TextScaled = true
TextSr.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
TextSr.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TextSr.TextSize = 14
TextSr.Size = UDim2.new(0.61, 0.00, 0.07, 0.00)
TextSr.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TextSr.Text = "Rotation Snapping"
TextSr.TextColor3 = Color3.new(1.00, 1.00, 1.00)
TextSr.BackgroundTransparency = 1
TextSr.Position = UDim2.new(0.02, 0.00, 0.66, 0.00)
TextSr.Parent = SnapRotation

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Parent = TextSr

local SkyboxPicker = Instance.new("Frame")
SkyboxPicker.Name = "SkyboxPicker"
SkyboxPicker.Visible = false
SkyboxPicker.AnchorPoint = Vector2.new(0.50, 0.50)
SkyboxPicker.Size = UDim2.new(0.84, 0.00, 1.00, 0.00)
SkyboxPicker.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
SkyboxPicker.Position = UDim2.new(0.58, 0.00, 0.50, 0.00)
SkyboxPicker.BorderSizePixel = 0
SkyboxPicker.BackgroundTransparency = 0.6000000238418579
SkyboxPicker.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
SkyboxPicker.Parent = Frame

local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.TextWrapped = true
Title.BorderSizePixel = 0
Title.TextScaled = true
Title.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Title.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
Title.TextSize = 14
Title.Size = UDim2.new(1.00, 0.00, 0.08, 0.00)
Title.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Title.Text = "Skybox Settings"
Title.TextColor3 = Color3.new(1.00, 1.00, 1.00)
Title.BackgroundTransparency = 1
Title.Parent = SkyboxPicker

local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke.Thickness = 1.2000000476837158
UIStroke.Transparency = 0.30000001192092896
UIStroke.Parent = Title

local UITextSizeConstraint = Instance.new("UITextSizeConstraint")
UITextSizeConstraint.MaxTextSize = 28
UITextSizeConstraint.Parent = Title

local Basic = Instance.new("Frame")
Basic.Name = "Basic"
Basic.Size = UDim2.new(0.92, 0.00, 0.15, 0.00)
Basic.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Basic.Position = UDim2.new(0.04, 0.00, 0.15, 0.00)
Basic.BorderSizePixel = 0
Basic.BackgroundTransparency = 1
Basic.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Basic.Parent = SkyboxPicker

local BoxHalf = Instance.new("Frame")
BoxHalf.Name = "BoxHalf"
BoxHalf.Size = UDim2.new(0.50, 0.00, 1.00, 0.00)
BoxHalf.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
BoxHalf.Position = UDim2.new(0.50, 0.00, 0.00, 0.00)
BoxHalf.BorderSizePixel = 0
BoxHalf.BackgroundTransparency = 1
BoxHalf.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
BoxHalf.Parent = Basic

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Padding = UDim.new(0.00, 10.00)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Parent = BoxHalf

local TimeOfDayB = Instance.new("TextBox")
TimeOfDayB.Name = "TimeOfDayB"
TimeOfDayB.BorderSizePixel = 0
TimeOfDayB.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
TimeOfDayB.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TimeOfDayB.TextSize = 14
TimeOfDayB.Size = UDim2.new(0.91, 0.00, 0.30, 0.00)
TimeOfDayB.TextColor3 = Color3.new(1.00, 1.00, 1.00)
TimeOfDayB.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TimeOfDayB.Text = ""
TimeOfDayB.BackgroundTransparency = 0.5
TimeOfDayB.Parent = BoxHalf

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke_1.Thickness = 1.2000000476837158
UIStroke_1.Transparency = 0.30000001192092896
UIStroke_1.Parent = TimeOfDayB

local UITextSizeConstraint_1 = Instance.new("UITextSizeConstraint")
UITextSizeConstraint_1.MaxTextSize = 20
UITextSizeConstraint_1.MinTextSize = 20
UITextSizeConstraint_1.Parent = TimeOfDayB

local FogEndB = Instance.new("TextBox")
FogEndB.Name = "FogEndB"
FogEndB.BorderSizePixel = 0
FogEndB.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
FogEndB.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
FogEndB.TextSize = 14
FogEndB.Size = UDim2.new(0.91, 0.00, 0.30, 0.00)
FogEndB.TextColor3 = Color3.new(1.00, 1.00, 1.00)
FogEndB.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
FogEndB.Text = ""
FogEndB.BackgroundTransparency = 0.5
FogEndB.Parent = BoxHalf

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke_1.Thickness = 1.2000000476837158
UIStroke_1.Transparency = 0.30000001192092896
UIStroke_1.Parent = FogEndB

local UITextSizeConstraint_1 = Instance.new("UITextSizeConstraint")
UITextSizeConstraint_1.MaxTextSize = 20
UITextSizeConstraint_1.MinTextSize = 20
UITextSizeConstraint_1.Parent = FogEndB

local BrightnessB = Instance.new("TextBox")
BrightnessB.Name = "BrightnessB"
BrightnessB.BorderSizePixel = 0
BrightnessB.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
BrightnessB.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
BrightnessB.TextSize = 14
BrightnessB.Size = UDim2.new(0.91, 0.00, 0.30, 0.00)
BrightnessB.TextColor3 = Color3.new(1.00, 1.00, 1.00)
BrightnessB.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
BrightnessB.Text = ""
BrightnessB.BackgroundTransparency = 0.5
BrightnessB.Parent = BoxHalf

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke_1.Thickness = 1.2000000476837158
UIStroke_1.Transparency = 0.30000001192092896
UIStroke_1.Parent = BrightnessB

local UITextSizeConstraint_1 = Instance.new("UITextSizeConstraint")
UITextSizeConstraint_1.MaxTextSize = 20
UITextSizeConstraint_1.MinTextSize = 20
UITextSizeConstraint_1.Parent = BrightnessB

local FogColorB = Instance.new("TextBox")
FogColorB.Name = "FogColorB"
FogColorB.BorderSizePixel = 0
FogColorB.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
FogColorB.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
FogColorB.TextSize = 14
FogColorB.Size = UDim2.new(0.91, 0.00, 0.30, 0.00)
FogColorB.TextColor3 = Color3.new(1.00, 1.00, 1.00)
FogColorB.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
FogColorB.Text = ""
FogColorB.BackgroundTransparency = 0.5
FogColorB.Parent = BoxHalf

local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke.Thickness = 1.2000000476837158
UIStroke.Transparency = 0.30000001192092896
UIStroke.Parent = FogColorB

local UITextSizeConstraint = Instance.new("UITextSizeConstraint")
UITextSizeConstraint.MaxTextSize = 20
UITextSizeConstraint.MinTextSize = 20
UITextSizeConstraint.Parent = FogColorB

local TextHalf = Instance.new("Frame")
TextHalf.Name = "TextHalf"
TextHalf.Size = UDim2.new(0.50, 0.00, 1.00, 0.00)
TextHalf.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TextHalf.BorderSizePixel = 0
TextHalf.BackgroundTransparency = 1
TextHalf.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
TextHalf.Parent = Basic

local UIListLayout_1 = Instance.new("UIListLayout")
UIListLayout_1.Padding = UDim.new(0.00, 10.00)
UIListLayout_1.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout_1.Parent = TextHalf

local TimeOfDay = Instance.new("TextLabel")
TimeOfDay.Name = "TimeOfDay"
TimeOfDay.TextWrapped = true
TimeOfDay.BorderSizePixel = 0
TimeOfDay.TextScaled = true
TimeOfDay.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
TimeOfDay.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
TimeOfDay.TextSize = 14
TimeOfDay.Size = UDim2.new(0.91, 0.00, 0.30, 0.00)
TimeOfDay.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
TimeOfDay.Text = "Time Of Day"
TimeOfDay.TextColor3 = Color3.new(1.00, 1.00, 1.00)
TimeOfDay.BackgroundTransparency = 1
TimeOfDay.Parent = TextHalf

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke_1.Thickness = 1.2000000476837158
UIStroke_1.Transparency = 0.30000001192092896
UIStroke_1.Parent = TimeOfDay

local UITextSizeConstraint_1 = Instance.new("UITextSizeConstraint")
UITextSizeConstraint_1.MaxTextSize = 28
UITextSizeConstraint_1.Parent = TimeOfDay

local FogEnd = Instance.new("TextLabel")
FogEnd.Name = "FogEnd"
FogEnd.TextWrapped = true
FogEnd.BorderSizePixel = 0
FogEnd.TextScaled = true
FogEnd.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
FogEnd.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
FogEnd.TextSize = 14
FogEnd.Size = UDim2.new(0.91, 0.00, 0.30, 0.00)
FogEnd.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
FogEnd.Text = "Fog End"
FogEnd.TextColor3 = Color3.new(1.00, 1.00, 1.00)
FogEnd.BackgroundTransparency = 1
FogEnd.Parent = TextHalf

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke_1.Thickness = 1.2000000476837158
UIStroke_1.Transparency = 0.30000001192092896
UIStroke_1.Parent = FogEnd

local UITextSizeConstraint_1 = Instance.new("UITextSizeConstraint")
UITextSizeConstraint_1.MaxTextSize = 28
UITextSizeConstraint_1.Parent = FogEnd

local Brightness = Instance.new("TextLabel")
Brightness.Name = "Brightness"
Brightness.TextWrapped = true
Brightness.BorderSizePixel = 0
Brightness.TextScaled = true
Brightness.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
Brightness.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
Brightness.TextSize = 14
Brightness.Size = UDim2.new(0.91, 0.00, 0.30, 0.00)
Brightness.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Brightness.Text = "Brightness"
Brightness.TextColor3 = Color3.new(1.00, 1.00, 1.00)
Brightness.BackgroundTransparency = 1
Brightness.Parent = TextHalf

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke_1.Thickness = 1.2000000476837158
UIStroke_1.Transparency = 0.30000001192092896
UIStroke_1.Parent = Brightness

local UITextSizeConstraint_1 = Instance.new("UITextSizeConstraint")
UITextSizeConstraint_1.MaxTextSize = 28
UITextSizeConstraint_1.Parent = Brightness

local FogColor = Instance.new("TextLabel")
FogColor.Name = "FogColor"
FogColor.TextWrapped = true
FogColor.BorderSizePixel = 0
FogColor.TextScaled = true
FogColor.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
FogColor.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
FogColor.TextSize = 14
FogColor.Size = UDim2.new(0.91, 0.00, 0.30, 0.00)
FogColor.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
FogColor.Text = "Fog Color"
FogColor.TextColor3 = Color3.new(1.00, 1.00, 1.00)
FogColor.BackgroundTransparency = 1
FogColor.Parent = TextHalf

local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke.Thickness = 1.2000000476837158
UIStroke.Transparency = 0.30000001192092896
UIStroke.Parent = FogColor

local UITextSizeConstraint = Instance.new("UITextSizeConstraint")
UITextSizeConstraint.MaxTextSize = 28
UITextSizeConstraint.Parent = FogColor

local ToggleSkybox = Instance.new("TextButton")
ToggleSkybox.Name = "ToggleSkybox"
ToggleSkybox.TextWrapped = true
ToggleSkybox.BorderSizePixel = 0
ToggleSkybox.TextScaled = true
ToggleSkybox.BackgroundColor3 = Color3.new(1.00, 0.00, 0.02)
ToggleSkybox.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
ToggleSkybox.TextSize = 14
ToggleSkybox.Size = UDim2.new(0.19, 0.00, 0.05, 0.00)
ToggleSkybox.TextColor3 = Color3.new(1.00, 1.00, 1.00)
ToggleSkybox.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
ToggleSkybox.Text = "Toggle"
ToggleSkybox.Position = UDim2.new(0.40, 0.00, 0.07, 0.00)
ToggleSkybox.Parent = SkyboxPicker

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Parent = ToggleSkybox

local ScrollingFrame = Instance.new("ScrollingFrame")
ScrollingFrame.Active = true
ScrollingFrame.BorderSizePixel = 0
ScrollingFrame.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
ScrollingFrame.Size = UDim2.new(0.923, 0.00, 0.597, 0.00)
ScrollingFrame.ScrollBarImageColor3 = Color3.new(0.00, 0.00, 0.00)
ScrollingFrame.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
ScrollingFrame.BackgroundTransparency = 0.800000011920929
ScrollingFrame.Position = UDim2.new(0.038, 0.00, 0.373, 0.00)
ScrollingFrame.Parent = SkyboxPicker

local SkyboxesFolder = Instance.new("Folder")
SkyboxesFolder.Name = "SkyboxesFolder"
SkyboxesFolder.Parent = ScrollingFrame

local Sky1 = Instance.new("ImageButton")
Sky1.Name = "Sky1"
Sky1.BorderSizePixel = 0
Sky1.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky1.Image = "rbxassetid://15391855678"
Sky1.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky1.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky1.Parent = SkyboxesFolder

local UIGridLayout = Instance.new("UIGridLayout")
UIGridLayout.CellPadding = UDim2.new(0.05, 0.00, 0.05, 0.00)
UIGridLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIGridLayout.CellSize = UDim2.new(0.20, 0.00, 0.00, 100.00)
UIGridLayout.Parent = SkyboxesFolder

local Sky2 = Instance.new("ImageButton")
Sky2.Name = "Sky2"
Sky2.BorderSizePixel = 0
Sky2.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky2.Image = "rbxassetid://6538721720"
Sky2.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky2.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky2.Parent = SkyboxesFolder

local Sky3 = Instance.new("ImageButton")
Sky3.Name = "Sky3"
Sky3.BorderSizePixel = 0
Sky3.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky3.Image = "rbxassetid://1179108570"
Sky3.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky3.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky3.Parent = SkyboxesFolder

local Sky4 = Instance.new("ImageButton")
Sky4.Name = "Sky4"
Sky4.BorderSizePixel = 0
Sky4.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky4.Image = "rbxassetid://1012890"
Sky4.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky4.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky4.Parent = SkyboxesFolder

local Sky5 = Instance.new("ImageButton")
Sky5.Name = "Sky5"
Sky5.BorderSizePixel = 0
Sky5.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky5.Image = "rbxassetid://600832720"
Sky5.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky5.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky5.Parent = SkyboxesFolder

local Sky6 = Instance.new("ImageButton")
Sky6.Name = "Sky6"
Sky6.BorderSizePixel = 0
Sky6.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky6.Image = "rbxassetid://166510116"
Sky6.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky6.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky6.Parent = SkyboxesFolder

local Sky7 = Instance.new("ImageButton")
Sky7.Name = "Sky7"
Sky7.BorderSizePixel = 0
Sky7.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky7.Image = "rbxassetid://16262360469"
Sky7.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky7.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky7.Parent = SkyboxesFolder

local Sky8 = Instance.new("ImageButton")
Sky8.Name = "Sky8"
Sky8.BorderSizePixel = 0
Sky8.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky8.Image = "rbxassetid://11336720418"
Sky8.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky8.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky8.Parent = SkyboxesFolder

local Sky9 = Instance.new("ImageButton")
Sky9.Name = "Sky9"
Sky9.BorderSizePixel = 0
Sky9.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky9.Image = "rbxassetid://442579184"
Sky9.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky9.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky9.Parent = SkyboxesFolder

local Sky10 = Instance.new("ImageButton")
Sky10.Name = "Sky10"
Sky10.BorderSizePixel = 0
Sky10.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky10.Image = "rbxassetid://128526893232764"
Sky10.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky10.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky10.Parent = SkyboxesFolder

local Sky11 = Instance.new("ImageButton")
Sky11.Name = "Sky11"
Sky11.BorderSizePixel = 0
Sky11.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky11.Image = "rbxassetid://154185021"
Sky11.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky11.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky11.Parent = SkyboxesFolder

local Sky12 = Instance.new("ImageButton")
Sky12.Name = "Sky12"
Sky12.BorderSizePixel = 0
Sky12.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Sky12.Image = "rbxassetid://9134793457"
Sky12.Size = UDim2.new(0.20, 0.00, 0.23, 0.00)
Sky12.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Sky12.Parent = SkyboxesFolder

local ExitSky = Instance.new("TextButton")
ExitSky.Name = "ExitSky"
ExitSky.TextWrapped = true
ExitSky.BorderSizePixel = 0
ExitSky.TextScaled = true
ExitSky.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
ExitSky.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
ExitSky.TextSize = 14
ExitSky.Size = UDim2.new(0.10, 0.00, 0.07, 0.00)
ExitSky.TextColor3 = Color3.new(1.00, 1.00, 1.00)
ExitSky.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
ExitSky.Text = "X"
ExitSky.BackgroundTransparency = 1
ExitSky.Position = UDim2.new(0.90, 0.00, 0.00, 0.00)
ExitSky.Parent = SkyboxPicker

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Parent = ExitSky

local Writing = Instance.new("Frame")
Writing.Name = "Writing"
Writing.AnchorPoint = Vector2.new(0.50, 0.50)
Writing.Size = UDim2.new(0.84, 0.00, 1.00, 0.00)
Writing.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Writing.Position = UDim2.new(0.58, 0.00, 0.50, 0.00)
Writing.BorderSizePixel = 0
Writing.BackgroundTransparency = 0.6000000238418579
Writing.BackgroundColor3 = Color3.new(0.00, 0.00, 0.00)
Writing.Parent = Frame
Writing.Visible = true

local Contents = Instance.new("TextBox")
Contents.Name = "Contents"
Contents.TextWrapped = true
Contents.BorderSizePixel = 0
Contents.TextYAlignment = Enum.TextYAlignment.Top
Contents.TextScaled = true
Contents.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Contents.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
Contents.AnchorPoint = Vector2.new(0.50, 0.50)
Contents.TextSize = 25
Contents.Size = UDim2.new(0.92, 0.00, 0.88, 0.00)
Contents.TextColor3 = Color3.new(0.00, 0.00, 0.00)
Contents.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Contents.Text = ""
Contents.TextXAlignment = Enum.TextXAlignment.Left
Contents.Position = UDim2.new(0.50, 0.00, 0.51, 0.00)
Contents.Parent = Writing

local UITextSizeConstraint = Instance.new("UITextSizeConstraint")
UITextSizeConstraint.MaxTextSize = 50
UITextSizeConstraint.Parent = Contents

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
UIStroke_1.Color = Color3.new(0.67, 0.67, 0.67)
UIStroke_1.Thickness = 2.4000000953674316
UIStroke_1.Parent = Contents

local UIPadding = Instance.new("UIPadding")
UIPadding.PaddingBottom = UDim.new(0.00, 5.00)
UIPadding.PaddingTop = UDim.new(0.00, 5.00)
UIPadding.PaddingLeft = UDim.new(0.00, 5.00)
UIPadding.PaddingRight = UDim.new(0.00, 5.00)
UIPadding.Parent = Contents

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0.00, 4.00)
UICorner.Parent = Contents

local Submit = Instance.new("TextButton")
Submit.Name = "Submit"
Submit.TextWrapped = true
Submit.BorderSizePixel = 0
Submit.TextScaled = true
Submit.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Submit.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
Submit.AnchorPoint = Vector2.new(0.50, 0.00)
Submit.TextSize = 14
Submit.Size = UDim2.new(0.7, 0.00, 0.05, 0.00)
Submit.TextColor3 = Color3.new(1.00, 1.00, 1.00)
Submit.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Submit.Text = "place"
Submit.BackgroundTransparency = 1
Submit.Position = UDim2.new(0.50, 0.00, 0.96, 0.00)
Submit.Parent = Writing

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke_1.Thickness = 1.2000000476837158
UIStroke_1.Transparency = 0.30000001192092896
UIStroke_1.Parent = Submit

local UITextSizeConstraint_1 = Instance.new("UITextSizeConstraint")
UITextSizeConstraint_1.MaxTextSize = 28
UITextSizeConstraint_1.Parent = Submit

local PaperCount = Instance.new("TextLabel")
PaperCount.Name = "PaperCount"
PaperCount.TextWrapped = true
PaperCount.BorderSizePixel = 0
PaperCount.TextScaled = true
PaperCount.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
PaperCount.FontFace = Font.new("rbxasset://fonts/families/Arial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
PaperCount.TextXAlignment = Enum.TextXAlignment.Left
PaperCount.TextSize = 30
PaperCount.Size = UDim2.new(0.67, 0.00, 0.07, 0.00)
PaperCount.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
PaperCount.Text = "you have 10 papers available."
PaperCount.TextColor3 = Color3.new(1.00, 1.00, 1.00)
PaperCount.BackgroundTransparency = 1
PaperCount.Position = UDim2.new(0.00, 0.00, -0.00, 0.00)
PaperCount.Parent = Writing

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.LineJoinMode = Enum.LineJoinMode.Miter
UIStroke_1.Color = Color3.new(0.16, 0.16, 0.16)
UIStroke_1.Thickness = 0.800000011920929
UIStroke_1.Transparency = 0.2800000011920929
UIStroke_1.Parent = PaperCount

local UIPadding_1 = Instance.new("UIPadding")
UIPadding_1.PaddingBottom = UDim.new(0.00, 5.00)
UIPadding_1.PaddingTop = UDim.new(0.00, 5.00)
UIPadding_1.PaddingLeft = UDim.new(0.00, 5.00)
UIPadding_1.PaddingRight = UDim.new(0.00, 5.00)
UIPadding_1.Parent = Writing

local Open = Instance.new("TextButton")
Open.Name = "Open"
Open.TextWrapped = true
Open.BorderSizePixel = 0
Open.TextScaled = true
Open.BackgroundColor3 = Color3.new(1.00, 1.00, 1.00)
Open.FontFace = Font.new("rbxasset://fonts/families/Arimo.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
Open.TextSize = 14
Open.Size = UDim2.new(1.409, 0.00, -0.206, 0.00)
Open.TextColor3 = Color3.new(1.00, 1.00, 1.00)
Open.BorderColor3 = Color3.new(0.00, 0.00, 0.00)
Open.Text = "build"
Open.BackgroundTransparency = 1
Open.Position = UDim2.new(0, 0.00, 0, 0.00)
Open.TextXAlignment = Enum.TextXAlignment.Left
Open.Parent = plr.PlayerGui.UI.HUD.Sidebar
Open.TextTransparency = 0.37

local UIStroke_1 = Instance.new("UIStroke")
UIStroke_1.Color = Color3.new(0.29, 0.29, 0.29)
UIStroke_1.Thickness = 1.2000000476837158
UIStroke_1.Transparency = 0.30000001192092896
UIStroke_1.Parent = Open

function sendbackadj()
    local down = CFrame.new(-100000,-100000,-100000)
    adup.CFrame = down
    adleft.CFrame = down
    addown.CFrame = down
    adright.CFrame = down
end

Open.MouseEnter:Connect(function()
    Open.Font = Enum.Font.ArimoBold
end)

Open.MouseLeave:Connect(function()
    Open.Font = Enum.Font.Arimo
end)

Open.MouseButton1Click:Connect(function()
    toggle = not toggle
    Frame.Visible = toggle
    sendbackadj()
end)

Btn.MouseButton1Click:Connect(function()
    baftoggle = not baftoggle
    if baftoggle == true then
        Btn.BackgroundColor3 = Color3.new(0.00, 1.00, 0.00)
        buildatfeetpart.CanQuery = true
        buildatfeetpart.CanTouch = true
    else
        Btn.BackgroundColor3 = Color3.new(1.00, 0.00, 0.00)
        buildatfeetpart.CanQuery = false
        buildatfeetpart.CanTouch = false
    end
end)

BtnR.MouseButton1Click:Connect(function()
    adjtoggle = not adjtoggle
    if adjtoggle == true then
        BtnR.BackgroundColor3 = Color3.new(0.00, 1.00, 0.00)
    else
        BtnR.BackgroundColor3 = Color3.new(1.00, 0.00, 0.00)
        sendbackadj()
    end
end)

BtnG.MouseButton1Click:Connect(function()
    gridtoggle = true
    Writing.Visible = false
    sendbackadj()
    placing = false
end)

BtnSk.MouseButton1Click:Connect(function()
    SkyboxPicker.Visible = true
    sendbackadj()
    placing = false
    Writing.Visible = false
    gridtoggle = false
end)

ExitSky.MouseButton1Click:Connect(function()
    SkyboxPicker.Visible = false
    sendbackadj()
    placing = false
    Writing.Visible = true
    gridtoggle = false
end)

BtnSt.MouseButton1Click:Connect(function()
    showtext = not showtext
    if showtext == true then
        BtnSt.BackgroundColor3 = Color3.new(0.00, 1.00, 0.00)
        for i,v in pairs(workspace.Papers:GetChildren()) do
            if v:FindFirstChild("SurfaceGui") then
                v:FindFirstChild("SurfaceGui").TextLabel.Visible = true
            end
        end
    else
        BtnSt.BackgroundColor3 = Color3.new(1.00, 0.00, 0.00)
        for i,v in pairs(workspace.Papers:GetChildren()) do
            if v:FindFirstChild("SurfaceGui") then
                v:FindFirstChild("SurfaceGui").TextLabel.Visible = false
            end
        end
    end
end)

BtnSr.MouseButton1Click:Connect(function()
    rotationsnapping = not rotationsnapping
    if rotationsnapping == true then
        BtnSr.BackgroundColor3 = Color3.new(0.00, 1.00, 0.00)
    else
        BtnSr.BackgroundColor3 = Color3.new(1.00, 0.00, 0.00)
    end
end)

ToggleSkybox.MouseButton1Click:Connect(function()
    skyboxtog = not skyboxtog
    if skyboxtog == true then
        ToggleSkybox.BackgroundColor3 = Color3.new(0.00, 1.00, 0.00)
    else
        ToggleSkybox.BackgroundColor3 = Color3.new(1.00, 0.00, 0.00)
    end
end)

for i,v in pairs(ScrollingFrame.SkyboxesFolder:GetChildren()) do
    if v:IsA("ImageButton") then
        v.MouseButton1Click:Connect(function()
            local skyparam = skyboxes[v.Name]
            skyup = skyparam[1]
            skydown = skyparam[2]
            skyleft = skyparam[3]
            skyright = skyparam[4]
            skyfront = skyparam[5]
            skyback = skyparam[6]
        end)
    end
end

Submit.MouseButton1Click:Connect(function()
    if Contents.Text:match("^%s*$") then
        Submit.Text = "Cannot submit empty text!"
        task.wait(1)
        Submit.Text = "place"
    else
        Writing.Visible = false
        placing = true
    end
end)

function createPaper(temptxt,tempcf)
    soundconfirm:Play()
    Remotes.CreatePaper:InvokeServer(temptxt, tempcf)
end

uis.InputBegan:Connect(function(inp,gpe)
    if inp.KeyCode == Enum.KeyCode.R and gpe == false and placing == true then
        soundrotate:Play()
        thingcf *= CFrame.Angles(0,math.rad(rotatesnap),0)
    elseif inp.KeyCode == Enum.KeyCode.T and gpe == false and placing == true then
        soundrotate:Play()
        thingcf *= CFrame.Angles(0,0,math.rad(rotatesnap))
    elseif inp.KeyCode == Enum.KeyCode.U and gpe == false and placing == true then
        soundrotate:Play()
        rotationx = 0
        rotationy = 0
        rotationz = 0
    elseif inp.KeyCode == Enum.KeyCode.X and gpe == false and placing == true then
        placing = false
        sendbackadj()
        Writing.Visible = true
    elseif inp.KeyCode == Enum.KeyCode.X and gpe == false and gridtoggle == true then
        gridtoggle = false
        Writing.Visible = true
        gridpart.CanQuery = false
        gridpart.CanTouch = false
        gridpart.Position = Vector3.new(-1000,-100000,-1000)
    end
    if inp.UserInputType == Enum.UserInputType.MouseButton1 and gpe == false and placing == true and adjtoggle == false then
        local temptxt = Contents.Text
        local tempcf = rayend.CFrame
        createPaper(temptxt,tempcf)
        placing = false
        sendbackadj()
        Writing.Visible = true
    elseif inp.UserInputType == Enum.UserInputType.MouseButton1 and gpe == false and placing == true and adjtoggle == true then
        local mousePosition = plr:GetMouse()
        local unitRay = workspace.Camera:ScreenPointToRay(mousePosition.X, mousePosition.Y)
        local rayParams = RaycastParams.new()
        rayParams.FilterType = Enum.RaycastFilterType.Exclude
        rayParams.FilterDescendantsInstances = {rayend}
        rayParams.IgnoreWater = true
        rayResult = workspace:Raycast(unitRay.Origin, unitRay.Direction * 500, rayParams)
        local inst = rayResult.Instance
        if inst.Parent.Name == "Papers" and #inst:GetChildren() == 1 then
            soundrotate:Play()
            adup.CFrame = inst.CFrame
            adleft.CFrame = inst.CFrame
            addown.CFrame = inst.CFrame
            adright.CFrame = inst.CFrame
            adup.CFrame *= CFrame.new(-2,0,0)
            adleft.CFrame *= CFrame.new(0,0,1.5)
            addown.CFrame *= CFrame.new(2,0,0)
            adright.CFrame *= CFrame.new(0,0,-1.5)
        elseif inst.Name == "AdjU" then
            local tempcf = inst.CFrame * CFrame.new(-2,0,0)
            local temptxt = Contents.Text
            createPaper(temptxt,tempcf)
            sendbackadj()
            placing = false
            Writing.Visible = true
        elseif inst.Name == "AdjL" then
            local tempcf = inst.CFrame * CFrame.new(0,0,1.5)
            local temptxt = Contents.Text
            createPaper(temptxt,tempcf)
            sendbackadj()
            placing = false
            Writing.Visible = true
        elseif inst.Name == "AdjD" then
            local tempcf = inst.CFrame * CFrame.new(2,0,0)
            local temptxt = Contents.Text
            createPaper(temptxt,tempcf)
            sendbackadj()
            placing = false
            Writing.Visible = true
        elseif inst.Name == "AdjR" then
            local tempcf = inst.CFrame * CFrame.new(0,0,-1.5)
            local temptxt = Contents.Text
            createPaper(temptxt,tempcf)
            sendbackadj()
            placing = false
            Writing.Visible = true
        end
    elseif inp.UserInputType == Enum.UserInputType.MouseButton1 and gpe == false and gridtoggle == true then
        local mousePosition = plr:GetMouse()
        local unitRay = workspace.Camera:ScreenPointToRay(mousePosition.X, mousePosition.Y)
        local rayParams = RaycastParams.new()
        rayParams.FilterType = Enum.RaycastFilterType.Exclude
        rayParams.FilterDescendantsInstances = {rayend}
        rayParams.IgnoreWater = true
        rayResult = workspace:Raycast(unitRay.Origin, unitRay.Direction * 500, rayParams)
        local inst = rayResult.Instance
        if rayResult and inst.Parent.Name == "Papers" then
            gridpart.CFrame = CFrame.lookAt(rayResult.Position,rayResult.Position + rayResult.Normal) * CFrame.Angles(math.rad(90),0,0)
            gridpart.CanQuery = true
            gridpart.CanTouch = true
            gridtoggle = false
            Writing.Visible = true
        end
    end
end)

rs.Heartbeat:Connect(function()
    buildatfeetpart.Position = char.HumanoidRootPart.Position + Vector3.new(0,-3.02,0)
    if TimeOfDayB.Text == "" then
        clocktim = 12
    else
        clocktim = tonumber(TimeOfDayB.Text)
    end
    if FogEndB.Text == "" then
        fogend = 10000
    else
        fogend = tonumber(FogEndB.Text)
    end
    if BrightnessB.Text == "" then
        brightnes = 2
    else
        brightnes = tonumber(BrightnessB.Text)
    end
    if string.find(FogColorB.Text,",") then
        if #(string.split(FogColorB.Text,",")) ~= 3 then
            fogcolor = Color3.new(0,0,0)
        else
            fogcolor = Color3.fromRGB((string.split(FogColorB.Text,","))[1],(string.split(FogColorB.Text,","))[2],(string.split(FogColorB.Text,","))[3])
        end
    else
        if #(string.split(FogColorB.Text," ")) ~= 3 then
            fogcolor = Color3.new(0,0,0)
        else
            fogcolor = Color3.fromRGB((string.split(FogColorB.Text," "))[1],(string.split(FogColorB.Text," "))[2],(string.split(FogColorB.Text," "))[3])
        end
    end
    if tonumber(TextBoxRs.Text) then
        rotatesnap = tonumber(TextBoxRs.Text)
    else
        rotatesnap = 45
    end
    if skyboxtog == true then
        workspace.Visuals.Skybox.Transparency = 1
        local Sky = game.Lighting.Sky
        Sky.StarCount = 0
        Sky.CelestialBodiesShown = false
        Sky.SkyboxUp = skyup
        Sky.SkyboxBk = skyback
        Sky.SkyboxDn = skydown
        Sky.SkyboxLf = skyleft
        Sky.SkyboxFt = skyfront
        Sky.SkyboxRt = skyright
        game.Lighting.ClockTime = clocktim
        game.Lighting.FogEnd = fogend
        game.Lighting.FogColor = fogcolor
        game.Lighting.Brightness = brightnes
    end
    if storedp.Value <= 9 then
        PaperCount.Text = "you have "..tostring(storedp.Value).." papers available. ".."("..tostring(storedpd.Value)..")"
    else
        PaperCount.Text = "you have "..tostring(storedp.Value).." papers available. (MAX)"
    end
    if placing == true and adjtoggle == false then
        rayend.Parent = workspace
        local mousePosition = plr:GetMouse()
        local unitRay = workspace.Camera:ScreenPointToRay(mousePosition.X, mousePosition.Y)
        local rayParams = RaycastParams.new()
        rayParams.FilterType = Enum.RaycastFilterType.Exclude
        rayParams.FilterDescendantsInstances = {rayend}
        rayParams.IgnoreWater = true
        rayResult = workspace:Raycast(unitRay.Origin, unitRay.Direction * 500, rayParams)
        if rayResult and tonumber(TextBoxS.Text) then
            unitnormal = rayResult.Normal
            local posb = Vector3.new(math.round(rayResult.Position.X/tonumber(TextBoxS.Text))*tonumber(TextBoxS.Text),math.round(rayResult.Position.Y/tonumber(TextBoxS.Text))*tonumber(TextBoxS.Text),math.round(rayResult.Position.Z/tonumber(TextBoxS.Text))*tonumber(TextBoxS.Text))
            thingcf = CFrame.new(posb) * thingcf.Rotation
            if unitnormal ~= lastnormal and rotationsnapping == true then
                local newcrot = CFrame.lookAt(rayend.Position,rayend.Position + unitnormal) * CFrame.Angles(math.rad(-90),0,0)
                thingcf = CFrame.new(thingcf.Position) * newcrot
            end
            rayend.CFrame = thingcf
            lastnormal = unitnormal
        end
    else
        rayend.Parent = game.ReplicatedStorage
    end
end)
